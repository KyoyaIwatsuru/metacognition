#!/usr/bin/env sh
set -euo pipefail

cd -- "$(dirname -- "$0")/.."

echo "== JS/TS tests =="
bun run test

echo "== Rust tests =="
(
    cd src-tauri
    cargo test
)

echo "== Python tests =="
(
    cd ../backend
    if ! uv run pytest; then
        status=$?
        if [ "$status" -ne 5 ]; then
            exit "$status"
        fi
    fi
)
